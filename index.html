<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>E-Shop - Your Online Store</title>
    <!-- General styles for the entire site (includes dark mode logic) -->
    <link rel="stylesheet" href="css/style.css" />
    <!-- Specific styles for the home page -->
    <link rel="stylesheet" href="css/home.css" />
    <!-- Bootstrap CSS CDN for responsive grid and basic components -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      xintegrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <!-- Font Awesome for icons (e.g., in "Why Choose Us" section) -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      xintegrity="sha512-..."
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <!-- Header Section (consistent across site) -->
    <header class="site-header">
      <div class="container header-inner">
        <h1 class="logo">ðŸ›’ E-Shop</h1>
        <nav class="main-nav">
          <a href="index.html" class="active">Home</a>
          <a href="products.html">Products</a>
          <a href="cart.html">Cart</a>
          <!-- This link will dynamically change to "Logout" if logged in -->
          <a href="login.html" id="auth-link">Login</a>
        </nav>
        <!-- Theme Toggle Button -->
        <button id="theme-toggle" class="theme-button" title="Toggle Dark Mode">
          ðŸŒ“
        </button>
      </div>
    </header>

    <!-- Hero Section -->
    <section class="hero-section d-flex align-items-center">
      <div class="container text-center">
        <h1>Discover Your Next Favorite Item</h1>
        <p class="lead">
          Shop the latest trends and best deals across all categories.
        </p>
        <a href="products.html" class="btn">Shop Now</a>
      </div>
    </section>

    <!-- Main Content -->
    <main class="container my-5">
      <!-- Featured Categories Section -->
      <section class="featured-categories mb-5">
        <h2 class="text-center mb-4">Featured Categories</h2>
        <div class="row g-4">
          <!-- Category Card 1 -->
          <div class="col-md-4 col-sm-6">
            <div class="card h-100">
              <img
                src="https://placehold.co/400x200/007bff/FFFFFF?text=Electronics"
                class="card-img-top"
                alt="Electronics"
                onerror="this.onerror=null;this.src='https://placehold.co/400x200/cccccc/000000?text=Image+Error';"
              />
              <div class="card-body">
                <h5 class="card-title">Electronics</h5>
                <a
                  href="products.html?category=Electronics"
                  class="btn btn-sm btn-outline-secondary"
                  >Shop Now</a
                >
              </div>
            </div>
          </div>
          <!-- Category Card 2 -->
          <div class="col-md-4 col-sm-6">
            <div class="card h-100">
              <img
                src="https://placehold.co/400x200/28a745/FFFFFF?text=Clothing"
                class="card-img-top"
                alt="Clothing"
                onerror="this.onerror=null;this.src='https://placehold.co/400x200/cccccc/000000?text=Image+Error';"
              />
              <div class="card-body">
                <h5 class="card-title">Clothing</h5>
                <a
                  href="products.html?category=Clothing"
                  class="btn btn-sm btn-outline-secondary"
                  >Shop Now</a
                >
              </div>
            </div>
          </div>
          <!-- Category Card 3 -->
          <div class="col-md-4 col-sm-6">
            <div class="card h-100">
              <img
                src="https://placehold.co/400x200/ffc107/FFFFFF?text=Home+%26+Kitchen"
                class="card-img-top"
                alt="Home & Kitchen"
                onerror="this.onerror=null;this.src='https://placehold.co/400x200/cccccc/000000?text=Image+Error';"
              />
              <div class="card-body">
                <h5 class="card-title">Home & Kitchen</h5>
                <a
                  href="products.html?category=Home%20%26%20Kitchen"
                  class="btn btn-sm btn-outline-secondary"
                  >Shop Now</a
                >
              </div>
            </div>
          </div>
          <!-- Add more category cards as needed -->
        </div>
      </section>

      <!-- Why Choose Us Section -->
      <section class="why-choose-us text-center mb-5">
        <h2 class="mb-4">Why Choose E-Shop?</h2>
        <div class="row g-4">
          <div class="col-md-4">
            <div class="icon-box">
              <i class="fas fa-truck fa-flip-horizontal"></i>
              <h4>Fast & Reliable Shipping</h4>
              <p>
                Get your products delivered quickly and safely to your doorstep.
              </p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="icon-box">
              <i class="fas fa-hand-holding-usd"></i>
              <h4>Best Prices Guaranteed</h4>
              <p>
                We offer competitive prices without compromising on quality.
              </p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="icon-box">
              <i class="fas fa-shield-alt"></i>
              <h4>Secure Shopping</h4>
              <p>
                Your privacy and security are our top priority with secure
                transactions.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Featured Products Section -->
      <section class="featured-products">
        <h2 class="text-center mb-4">Our Top Products</h2>
        <div id="product-list" class="row">
          <!-- Product Cards will be dynamically loaded here by JavaScript or backend -->
          <!-- Placeholder Product Card 1 -->
          <div class="col-md-3 col-sm-6 mb-4 fade-in">
            <div class="product-card">
              <img
                src="https://placehold.co/300x150/007bff/FFFFFF?text=Smartphone"
                class="card-img-top"
                alt="Smartphone"
                onerror="this.onerror=null;this.src='https://placehold.co/300x150/cccccc/000000?text=Image+Error';"
              />
              <div class="card-body">
                <h5 class="card-title">Latest Smartphone</h5>
                <p class="price">$799.99</p>
                <a
                  href="product-detail.html?id=1"
                  class="btn btn-primary w-100 mb-2"
                  >View Product</a
                >
                <button class="btn btn-success w-100">Add to Cart</button>
              </div>
            </div>
          </div>
          <!-- Placeholder Product Card 2 -->
          <div class="col-md-3 col-sm-6 mb-4 fade-in">
            <div class="product-card">
              <img
                src="https://placehold.co/300x150/28a745/FFFFFF?text=Headphones"
                class="card-img-top"
                alt="Wireless Headphones"
                onerror="this.onerror=null;this.src='https://placehold.co/300x150/cccccc/000000?text=Image+Error';"
              />
              <div class="card-body">
                <h5 class="card-title">Wireless Headphones</h5>
                <p class="price">$149.99</p>
                <a
                  href="product-detail.html?id=2"
                  class="btn btn-primary w-100 mb-2"
                  >View Product</a
                >
                <button class="btn btn-success w-100">Add to Cart</button>
              </div>
            </div>
          </div>
          <!-- Placeholder Product Card 3 -->
          <div class="col-md-3 col-sm-6 mb-4 fade-in">
            <div class="product-card">
              <img
                src="https://placehold.co/300x150/ffc107/FFFFFF?text=Smartwatch"
                class="card-img-top"
                alt="Smartwatch"
                onerror="this.onerror=null;this.src='https://placehold.co/300x150/cccccc/000000?text=Image+Error';"
              />
              <div class="card-body">
                <h5 class="card-title">Fitness Smartwatch</h5>
                <p class="price">$199.99</p>
                <a
                  href="product-detail.html?id=3"
                  class="btn btn-primary w-100 mb-2"
                  >View Product</a
                >
                <button class="btn btn-success w-100">Add to Cart</button>
              </div>
            </div>
          </div>
          <!-- Placeholder Product Card 4 -->
          <div class="col-md-3 col-sm-6 mb-4 fade-in">
            <div class="product-card">
              <img
                src="https://placehold.co/300x150/dc3545/FFFFFF?text=Laptop"
                class="card-img-top"
                alt="Gaming Laptop"
                onerror="this.onerror=null;this.src='https://placehold.co/300x150/cccccc/000000?text=Image+Error';"
              />
              <div class="card-body">
                <h5 class="card-title">Powerful Gaming Laptop</h5>
                <p class="price">$1299.99</p>
                <a
                  href="product-detail.html?id=4"
                  class="btn btn-primary w-100 mb-2"
                  >View Product</a
                >
                <button class="btn btn-success w-100">Add to Cart</button>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer Section (consistent across site) -->
    <footer class="bg-dark text-white text-center py-4">
      <div class="container">
        <p>&copy; 2024 E-Shop. All rights reserved.</p>
        <div class="social-links mt-3">
          <a href="#" class="text-white mx-2"
            ><i class="fab fa-facebook-f"></i
          ></a>
          <a href="#" class="text-white mx-2"><i class="fab fa-twitter"></i></a>
          <a href="#" class="text-white mx-2"
            ><i class="fab fa-instagram"></i
          ></a>
        </div>
      </div>
    </footer>

    <!-- Bootstrap JS Bundle (includes Popper.js) -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      xintegrity="sha384-..."
      crossorigin="anonymous"
    ></script>
    <!-- Custom site-wide JavaScript (e.g., theme toggle, common header logic) -->
    <script src="js/main.js"></script>
    <!-- Inline script for dynamic login/logout link and basic authentication check -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const authLink = document.getElementById("auth-link");

        // Function to check auth status and update link
        const updateAuthLink = () => {
          const token = localStorage.getItem("jwt_token"); // Check for JWT in local storage
          if (token) {
            authLink.textContent = "Logout";
            authLink.href = "#"; // Make logout link non-navigable directly

            // Add click listener for logout
            authLink.addEventListener("click", (e) => {
              e.preventDefault();
              localStorage.removeItem("jwt_token"); // Clear token
              // For a production app, also hit a /logout endpoint to invalidate server-side session if any
              alert("You have been logged out."); // Simple alert for now
              window.location.reload(); // Reloads page to show "Login" link again
            });
          } else {
            authLink.textContent = "Login";
            authLink.href = "login.html";
            // Ensure no existing logout listener is attached if it's already "Login"
            const oldListener = authLink._logoutListener;
            if (oldListener) {
              authLink.removeEventListener("click", oldListener);
              authLink._logoutListener = null;
            }
          }
        };

        updateAuthLink(); // Call on page load

        // Optional: Intersection Observer for fade-in effect (if implemented in style.css)
        const fadeIns = document.querySelectorAll(".fade-in");
        if ("IntersectionObserver" in window) {
          const observer = new IntersectionObserver(
            (entries, observer) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) {
                  entry.target.classList.add("visible");
                  observer.unobserve(entry.target);
                }
              });
            },
            { threshold: 0.1 }
          ); // Trigger when 10% of item is visible

          fadeIns.forEach((el) => observer.observe(el));
        } else {
          // Fallback for browsers that don't support Intersection Observer
          fadeIns.forEach((el) => el.classList.add("visible"));
        }
      });
    </script>
  </body>
</html>
